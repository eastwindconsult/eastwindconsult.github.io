<!-- This is written by Peter Nunekpeku | pnunekpeku5@gmail.com | eastwindconsultintl@gmail.com -->        
<!--  modified 2022-06-30 UTC  -->

<html>
<head>
       <title>METBEAT WEATHER KERALA</title>

       <meta charset="utf-8" />
       <meta name="viewport" content="width=device-width, initial-scale=1.0">

       <link rel="stylesheet" href="leaflet.css" />
       <link rel="stylesheet" href="mykmlstyles.css" />
       
       <script src="leaflet.js"></script>
       
       <!-- Bring in the leaflet KML plugin -->
       <script src="KML.js"></script> 
       
       <!-- Bring in the shapefile plugins -->

       <script src="/shapefile/catiline.js"></script>
       <script src="/shapefile/leaflet.shpfile.js"></script>
       
       <script src="leaflet.ajax.min.js"></script>
       <script src="leaflet.ajax.js"></script>
</head>
<body>

    <div id="map">    

        <div class="button container"> 
          <!-- Todo: uncomment the line below to show date and time at the header of page -->        
          <!--        <li class="fslide"></li><li class="fslide"></li>  -->        
             <div class="buttons">
                <div>
                    <ul id="fslides"><li class="fslide"></li><li class="fslide"></li><li class="fslide">UTC</li><br></ul><br>
                </div> 
                        <button class="controls" id="previous">&lt;</button>
                        <button class="controls" id="pause">&#10074;&#10074;</button>
                        <button class="controls" id="next">&gt;</button>
              </div>
        </div>

        <div class="logo">
                <img src="images/eastwindconsult.png" alt="eastwindconsultlogo" width="75" height="75"/>
        </div>
                <div class="legend">
                <img src="images/wrf_totalprecip_lb.png" alt="filled total precipitation"/>
        </div>
        
        <div class='legendContainer'>
          <div class='legendTitle'></div>
            <div class='legendScale'>
              <ul class='legendLabel'>           
                <li><span style='background:#0df7a4;'></span><br/><b>Light Rain</b></li>
                <li><span style='background:#0df748;'></span><br/><b>Rain Showers</b></li>
                <li><span style='background:#0ed841;'></span><br/><b>Rain</b></li>
                <li><span style='background:#ebf70d;'></span><br/><b>Heavy Rain</b></li>
                <li><span style='background:#f7d80d;'></span><br/><b>Very Heavy Rain</b></li>
                <li><span style='background:#f7480d;'></span><br/><b>Extreme Rain</b></li>
                <li><span style='background:#f7110d;'></span><br/><b>Thunderstorm</b></li>
              </ul>
            </div>
          </div>
        </div>

     <script>

        var map = L.map('map').setView([10.0, 76.5], 8);
            map.options.minZoom = 0;    
	          map.options.maxZoom = 20; // Reduce this for free editions                 
        const bounds = [
			                  [0.5,50.5], // SouthWest Coordinates  2.282608,-17.84559
			                  [45.0,100.5] // NorthEast Coordinates  17.5386,15.44559
		                   ];

//        L.tileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
          L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}', {

                attribution: '<a href="https://www.metbeat.com">Metbeat Weather</a> | \
                &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> | \
                <a href="https://web.facebook.com/eastwindconsult">Powered by &copy; EastwindConsult</a> '
            }).addTo(map);
            
//       Uploading Shapefile of India Outline Map

             var indiashapefile = new L.Shapefile('/shapefile/IndiaOutlineMap.zip',{});
             
             var keralashapfile = new L.GeoJSON.AJAX("KERALA_DISTRICTS.geojson");             
             
             
//             var indiashapefile = new L.Shapefile('/shapefile/gadm41_IND_shp.zip',{});
		              
//		          indiashapefile.addTo(map);
//		          indiashapefile.once("data:loaded", function() {
//		          });      		   
		          
		          keralashapfile.addTo(map);
                                   
//          files/kml/wrf_rainfall_201908070600.kml                          
            var kmlLayer = new L.KML("/forecast/kerala/totalprecip/2022111000/wrf_precslpwind.kml", {async: true});
            
            var mapKmlLayer = map.addLayer(kmlLayer);

	          map.setMaxBounds(bounds, {reset: true});

     </script>
    <script src="mykmlanimation2.js"></script>

</body>            
</html>

